# my-cooking.ru

## Что это за проект, какую задачу он решает, в чём его польза;
```
my-cooking.ru — «Фудграм» — сайтом, на котором пользователи будут публиковать рецепты, добавлять чужие рецепты в избранное и подписываться на публикации других авторов.
Пользователям сайта также будет доступен сервис «Список покупок».
Он позволит создавать список продуктов, которые нужно купить для приготовления выбранных блюд.
```

### Реализованно роли и прав доступа:
Анонимные пользователи:
[1] Создать аккаунт.
[2] Просматривать рецепты на главной.
[3] Просматривать отдельные страницы рецептов.
[4] Просматривать страницы пользователей.
[5] Фильтровать рецепты по тегам.

Авторизованные пользователи:
[1] Входить/выходить в систему под своим логином и паролем.
[2] Менять свой пароль.
[3] Создавать/редактировать/удалять собственные рецепты
[4] Просматривать рецепты на главной, страницы пользователей, отдельные страницы рецептов
[5] Фильтровать рецепты по тегам.
[6] Работать с персональным списком избранного: добавлять в него рецепты или удалять их, просматривать свою страницу избранных рецептов.
[7] Работать с персональным списком покупок: добавлять/удалять **любые** рецепты, выгружать файл с количеством необходимых ингредиентов для рецептов из списка покупок.
[8] Подписываться на публикации авторов рецептов и отменять подписку, просматривать свою страницу подписок.

Администратор:
[1] обладает правами авторизованного пользователя
[2] изменять пароль любого пользователя,
[3] редактировать/удалять **любые** рецепты,
[4] добавлять/удалять/редактировать ингредиенты.
[5] добавлять/удалять/редактировать теги.


## Как развернуть проект на локальной машине.
```
1  ] (Клонируем проект) :git clone git@github.com:OsKaLis/foodgram-project-react.git
2  ] (водим пароль если доступ приватный)
3  ] (Переходим в директорию проекта) :cd my-cooking/

4  ] (Установка): docker
5  ] (Установка docker для Windows) https://learn.microsoft.com/ru-ru/windows/wsl/install

6  ] (Создание файла с настройками ".env"):
```
6.1] POSTGRES_DB=[{Своё значение название базы}]
6.2] POSTGRES_USER=[{Своё значение имя пользователя для подключения к базе}]
6.3] POSTGRES_PASSWORD=[{Своё значение пароля для базы}]
6.4] DB_NAME=[{Своё значение название базы}]
6.5] # Добавляем переменные для Django-проекта:
6.6] DB_HOST=db
6.7] DB_PORT=5432
6.8] SECRET_KEY=[{Своё значение key}]
6.9] DEBUG=False
```
7  ] (Установка dpcker для Linux): 
7.1] sudo apt update
7.2] sudo apt install curl
7.3] curl -fSL https://get.docker.com -o get-docker.sh 
7.4] sudo sh ./get-docker.sh
7.5] sudo apt-get install docker-compose-plugin 
7.6] # systemctl — программа, контролирующая работу системных демонов
   ] # status docker — команда, проверяющая статус демона Docker
   ] sudo systemctl status docker 

8  ] (Запуск проекта)
8.1] (Запускаем основные контейнеры): sudo docker compose up -d
8.2] (Выполняет миграции и сбор статики):
8.3] sudo docker compose exec backend python manage.py migrate
8.4] sudo docker compose exec backend python manage.py collectstatic
8.5] sudo docker compose exec backend cp -r /app/collected_static/. /backend_static/static/

9  ] (Главная адрес проекта): http://127.0.0.1:8000/
10 ] (API адрес проекта) :http://127.0.0.1:8000/api/
11 ] (Админка проекта) :http://127.0.0.1:8000/admin/
```


## Некоторые примеры индпоинтов.
### Список пользователей, регистрация нового пользователя
### метод: [GET], [POST]
```
https://my-cooking.ru/api/users/
```
### Профиль пользователя и собственный профиль пользователя
### метод: [GET]
```
https://my-cooking.ru/api/users/{id}/     
```
### метод: [GET]
```
https://my-cooking.ru/api/users/me/     
```
### Изменение пароля пользователя
### метод: [POST]
```
https://my-cooking.ru/api/users/set_password/     
```
### Получение и удаление токена авторизации
### метод: [POST]
```
https://my-cooking.ru/api/auth/token/login/
```
### метод: [POST]
```
https://my-cooking.ru/api/auth/token/logout/
```
### Получение, создание рецептов, их обновление и удаление
### методы: [GET], [POST]
```
https://my-cooking.ru/api/recipes/   
```
### метод: [GET], [PATCH], [DEL]
```
https://my-cooking.ru/api/recipes/{id}/   
```
### Добавление понравившегося рецепта в "Избранное" и удаление его
### методы: [POST], [DELETE]
```
https://my-cooking.ru/api/recipes/{id}/favorite/    
```
### Добавление рецепта в "Список покупок" и удаление его из списка
### методы: [POST], [DELETE]
```
https://my-cooking.ru/api/recipes/{id}/shopping_cart/    
```
### Скачивание файла в формате PDF с ингредиентами рецептов из списка покупок
### метод: [GET]
```
https://my-cooking.ru/api/recipes/download_shopping_cart/     
```
### Просмотр доступных тегов
### метод: GET
```
https://my-cooking.ru/api/tags/     
```
### метод: GET
```
https://my-cooking.ru/api/tags/{id}     
```
### Просмотр доступных ингредиентов
### метод: [GET]
```
https://my-cooking.ru/api/ingredients/     
```
### метод: [GET]
```
https://my-cooking.ru/api/ingredients/{id}/    
```

## Cтек технологий:
```
1 ] Cистема управления базами данных PostgreSQL
2 ] Язык программирования Python
3 ] Фреймворк Django, Rest, React
4 ] Виртуализации Docker
5 ] Веб сервер Nginx
6 ] Gunicorn
```

## Автор: Юшко Ю.Ю.